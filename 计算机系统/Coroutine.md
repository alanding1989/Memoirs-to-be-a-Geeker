
### 协程
  
> asyncio
> 子程序调用通过栈实现，调用总是一个入口，一次返回，调用顺序明确。而协程调用和
  子程序不同。  
> 协程调用看上去也是子程序，但执行过程中，在子程序内部可中断。然后转而执行别的
  子程序。在适当的时候再返回来接着执行。

  要充分利用多核CPU，可以用多进程+协程模型。

- 优势：
  - 1.减少线程或进程切换开销。子程序切换不是线程切换，而是程序自身控制。线程数量越多，
    协程性能优势越明显。
  - 2.不需要多线程锁机制，因为只有一个线程。在协程中控制共享资源不加锁，只需要判断状态。

- 适用场景：
  高并发的IO操作-网络IO

- dynamic func call-heap: `loop.run_in_executor()`
  append to eventloop: `asyncio.create_task(), loop.create_task(), asyncio.ensure_future()`
